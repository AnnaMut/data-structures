##5. Дерево (Tree)

###5.1 Структура дерева

Дерево &mdash; [структура данных][1], эмулирующая древовидную структуру в виде набора связанных узлов.

```
           ┌─────┐
           |     |           Корневой узел
           └─────┘
         /    |    \
  ┌─────┐  ┌─────┐  ┌─────┐
  |     |  |     |  |     |   Дочерние узлы
  └─────┘  └─────┘  └─────┘
         /    |    \
  ┌─────┐  ┌─────┐  ┌─────┐
  |     |  |     |  |     |   Дочерние узлы дочерних узлов
  └─────┘  └─────┘  └─────┘
```

Пример &mdash; синтаксическое дерево для выражения `2 * sin(3 * z - 7)`

```
          ┌─────┐
          |  *  |
          └─────┘
         /       \
   ┌─────┐        ┌─────┐
   |  2  |        | sin |
   └─────┘        └─────┘
                     |
                  ┌─────┐
                  |  -  |
                  └─────┘
                 /       \
           ┌─────┐       ┌─────┐
           |  *  |       |  7  |
           └─────┘       └─────┘
          /       \
    ┌─────┐       ┌─────┐
    |  3  |       |  z  |
    └─────┘       └─────┘
```

[1]: https://ru.wikipedia.org/wiki/Дерево_(структура_данных)

Еще один пример &mdash; двоичное дерево поиска. Термин &laquo;двоичное&raquo; означет, что у каждого из узлов есть
не более двух дочерних узлов. &laquo;Дерево поиска&raquo; означает, что все значения в левом поддереве каждого узла
меньше или равны значению этого узла, а все значения в правом поддереве &mdash; наоборот &mdash; больше.

```
          ┌─────┐
          |  0  |   <- 0 больше -1, но меньше любого из [1, 5, 7, 8, 9]
          └─────┘
         /       \
   ┌─────┐        ┌─────┐
   | -1  |        |  8  |   <- 8 больше любого из [1, 5, 7], но меньше 9
   └─────┘        └─────┘
                 /       \
           ┌─────┐       ┌─────┐
           |  5  |       |  9  |
           └─────┘       └─────┘
          /       \
    ┌─────┐       ┌─────┐
    |  1  |       |  7  |
    └─────┘       └─────┘
```

Если в таком дереве нам надо найти значение 7, то нам нужно совершить такие действия:

1. Зайти в узел 0. Искомое 7 больше 0, значит нужно продолжить итерирование вправо;
2. Зайти в узел 8. Искомое 7 меньше 8, значит нужно продолжить итерирование влево;
3. Зайти в узел 5. Искомое 7 больше 5, значит нужно продолжить итерирование вправо;
4. Зайти в узел 7. Это и есть искомое значение, можно закончить итерирование.

###5.2 Операции над деревом

####5.2.1 Вычисление высоты дерева (height)

```js
function height(tree) {
    // Если дерево пусто, то его высота равна нулю
    if (tree === null) {
        return 0;
    }

    // Иначе высота равна единице плюс максимальная высота из высот левого и правого поддеревьев
    return 1 + Math.max(height(tree.left), height(tree.right));
}
```

####5.2.2 Вычисление размера дерева

```js
function size(tree) {
    // Если дерево пусто, то его размер равен нулю
    if (tree === null) {
        return 0;
    }

    // Иначе размер равен сумме единицы и размеров левого и правого поддеревьев
    return 1 + size(tree.left) + size(tree.right);
}
```
